---


## layout: default  
title: Macros  
parent: User manual  
nav\_order: 3

# 宏

宏可以用来执行预先编辑好的一系列动作或步骤。

默认情况下，可以配置16个宏。这个数字可以降低，因为有些固件没有足够的空间容纳这么多的宏。

宏的一些典型用途可以是打出地址，用热键快捷键打开程序或填写表格。

## 1\.配置宏

单击“**宏**”的选项卡。所有可以配置的宏都将显示为独立的标签。选择一个你想配置的宏。在下图中，我们选中了**M0**。

![](../img/macros-header1.png)

下一步是添加动作。在右下角，你可以

* **添加动作** - 添加一个动作到列表中。配置它来做你想做的事。从不同的选项中选择按住、按下、释放和延迟。
* **按下回车键** - 很多宏都以“回车”键结束，所以这个按钮让你更容易添加回车键。
* **录制宏** - 让你直接从你的键盘上录制宏。它不是最可靠的，但它可以提供一个很好的基础。

使用这些按钮来添加动作到列表中。当宏被激活时，这些动作将被按顺序执行。

可以用左边的箭头对动作进行重新排序。

当您对所有宏的配置感到满意时，请点击保存**以**保存所有更改。如果你想恢复到设备上已有的配置，点击**恢复。**

### 例子

1. 在Windows上按Ctrl+Shift，然后点Esc，打开任务管理器
   
   ![](../img/macro-task-manager.png)

2. 通过打开“开始”菜单，输入程序名称，然后按回车键，在Windows上启动一个程序。
   
   ![](../img/macro-launch-vs-code.png)

3. 键入一个街道地址
   
   ![](../img/macro-street-address.png)

## 2\.使用宏

配置好宏后，就可以使用了。只需在顶部面板上点击你想用于宏的一个键，然后在底部面板上选择你的宏。(在宏标签下)

![](../img/macro-overview.png)

## 3\.改变宏的数量

要增加或减少宏的数量，你需要在你的`keymaps/vial/config.h`中定义。其中'xx'是你想要的宏的数量。

```
#define DYNAMIC_KEYMAP_MACRO_COUNT xx
```

最多可以有109个宏，宏的数量不会改变为宏保留的空间，但每一个空白条目都会消耗你的EEPROM中的一个字节。

# 更多信息

宏是QMK的一项功能，更多的详细信息可以在[QMK官方文档](https://docs.qmk.fm/#/feature_macros)中找到。